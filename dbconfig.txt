CREATE USER beetle WITH PASSWORD 'your-password';
ALTER ROLE beetle WITH LOGIN;

CREATE DATABASE cloud OWNER beetle;

CREATE DOMAIN dom_username TEXT CHECK(LENGTH(VALUE) > 3 AND LENGTH(VALUE) < 200);

CREATE TABLE USERS(
    username dom_username,
    email TEXT,
    password TEXT,
    PRIMARY KEY(username));


CREATE TABLE projects(
    projectName TEXT,
    isPublic BOOLEAN,
    contents TEXT,
    thumbnail TEXT,
    notes TEXT,
    updated TIMESTAMP WITH TIME ZONE,
    username dom_username REFERENCES Users(username),
    PRIMARY KEY(username, projectName));

